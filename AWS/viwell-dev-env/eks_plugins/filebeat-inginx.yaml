---
filebeatConfig:
  filebeat.yml: |
    filebeat.autodiscover:
      providers:
        - type: kubernetes
          templates:
            - condition:
                equals:
                  kubernetes.container.name: "controller"
              config:
              - module: nginx
                access:
                  enabled: true
                  input:
                    type: container
                    paths:
                    - /var/log/containers/*-${data.kubernetes.container.id}.log
              
    output.elasticsearch:
      hosts: 'elasticsearch.mon.svc.cluster.local:9200'
      username: 'elastic'
      password: 'pbaf-130-dmn'
    setup.kibana:
      host: "kibana.mon.svc.cluster.local:5601"